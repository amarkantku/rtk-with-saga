<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: UserList.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: UserList.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import { Fragment, useState } from 'react';
import { useDispatch } from 'react-redux';
import Table from '../../../components/Table/Table';
import Button from '../../../components/Button/Button';
import Modal from '../../../components/Modal/Modal';
import PlusIcon from '../../../icons/Plus';
import { Row, Col } from '../../../styles/styled';
import { UserListWrapper, AddNewUser, Title } from '../User.styled';
import { userActions, defaultUser } from '../userSlice';

import UserForm from '../components/UserForm';
// import MUIButton from '../../../components/Button/MUIButton';

/**
 * @param {object} userData 
 * @returns null
 * 
 * Some documented component
 *
 * @component
 * @example
 * const users = [{name: 'Test Name', email: 'test.one@gmail.com', company: 'Test Comp'}]
 * return (
 *   &lt;UserList userData={users} />
 * )
 */

const UserList = ({ userData }) => {
    const dispatch = useDispatch();
    const [isOpen, setIsOpen] = useState(false);
    const [isEdit, setIsEdit] = useState(false);
    const [userInfo, setUserInfo] = useState(defaultUser);

    const closeModal = () => {
        setIsEdit(false);
        setIsOpen(false);
        setUserInfo(defaultUser);
    };

    const handleOnSubmit = (user) => {
        if (isEdit) {
            dispatch(userActions.updateUser(user));
        } else {
            dispatch(userActions.addUser(user));
        }
        closeModal();
    };

    const handleUserClick = ({ action, data }) => {
        if (/edit/i.test(action)) {
            setUserInfo(data);
            setIsEdit(true);
            setIsOpen(true);
        } else if (/delete/i.test(action)) {
            dispatch(userActions.deleteUser({ email: data }));
        }
    };

    return (
        &lt;Fragment>
            &lt;UserListWrapper data-testid={'user-list-wrapper'}>
                &lt;Row>
                    &lt;Col>
                        &lt;Title data-testid={'user-list-title'}>User List&lt;/Title>
                    &lt;/Col>
                    &lt;Col>
                        &lt;AddNewUser
                            data-testid={'add-new-user'}
                            onClick={() => setIsOpen(true)}
                        >
                            &lt;Button data-testid={'btn-add-user'}>
                                &lt;PlusIcon /> Add User
                            &lt;/Button>
                        &lt;/AddNewUser>
                    &lt;/Col>
                &lt;/Row>
                &lt;Row>
                    &lt;Col>
                        {userData.length ? (
                            &lt;Table
                                id="user-list-table"
                                caption="User Table"
                                data={userData}
                                isReadonly={false}
                                handleClick={handleUserClick}
                            />
                        ) : null}
                    &lt;/Col>
                &lt;/Row>
                {/* &lt;MUIButton color="red">Test Button&lt;/MUIButton> */}
            &lt;/UserListWrapper>
            {isOpen &amp;&amp; (
                &lt;Modal
                    title={isEdit ? 'Update User Details' : 'Add User'}
                    handleClose={closeModal}
                    isOpen={isOpen}
                >
                    &lt;UserForm
                        user={userInfo}
                        isEdit={isEdit}
                        onSubmit={handleOnSubmit}
                    >&lt;/UserForm>
                &lt;/Modal>
            )}
        &lt;/Fragment>
    );
};

export default UserList;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="UserList.html">UserList</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.10</a> on Fri Jun 03 2022 19:51:50 GMT+0530 (India Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
